# hts_resistant_reconciliation
R Script and data base to reproduce the results depicted in Meira et al. (2023) A novel reconciliation approach for hierarchical electricity consumption forecasting based on resistant regression

The script herein provided contains the R code required to reproduce the results depicted in tables 2 and 4 of the paper. These results consider the forecast reconciliation experiment for ETS base forecasts. Please note that the number of forecasting steps must be set up in the beginning of the code (line 11). Tables 2 and 4 of the paper considered the cases of 3 and 4 steps-ahead forecasts (left and right panels, respectively). Hence, if the user selects h = 3, the results at the end of the script will be those depicted in the left panel of Tables 2 and 4. If h = 4 is selected, the results will be those depicted in the right panel of Tables 2 and 4.

To conserve space, we did not provide the R Scripts/codes for reconciling SARIMA base forecasts (Tables 3 and 5), although this can be easily achieved by changing a few parts of the code (lines 51, 62, 71, and 84 to 88), substituting the ets function for the auto.arima function from the same (forecast) package. The scripts that reproduce the results for the cross-validation experiments (Section 4.2) are also not provided, but can be made available upon reasonable request.

Finally, although the results will probably not vary according to the machine and the R package versions used, we clarify that the results depicted in the paper were generated using R version 4.1.2 (2021-11-01) and forecast package version 8.16 for ETS and ARIMA modelling. Forecast reconciliation was conducted using the hts package for benchmark methods and dedicated functions created by the authors for regression-based approaches (HUBER 1, HUBER 2 and the LAD proposed approach). Some of these functions use resources from the MASS and quantreg packages (versions 7.3-54 and 5.88, respectively).
